/*
 * Editor Font Size Management System
 * Provides 5 presets (xs, sm, md, lg, zen) with granular control
 * for all text elements in the editor
 */

/* Extra Small - Maximum density */
.font-size-xs {
  /* Headings */
  --fs-h1: 1.5rem;     /* 24px */
  --fs-h2: 1.25rem;    /* 20px */
  --fs-h3: 1.125rem;   /* 18px */
  --fs-h4: 1rem;       /* 16px */
  --fs-h5: 0.875rem;   /* 14px */
  --fs-h6: 0.8125rem;  /* 13px */

  /* Body text */
  --fs-body: 0.75rem;  /* 12px */
  --fs-lead: 0.875rem; /* 14px */

  /* List items */
  --fs-list: 0.75rem;  /* 12px */
  --fs-list-indent: 1.25rem;

  /* Quotes and special blocks */
  --fs-blockquote: 0.8125rem; /* 13px */
  --fs-callout: 0.75rem;      /* 12px */
  --fs-toggle: 0.75rem;       /* 12px */

  /* Code */
  --fs-code-inline: 0.6875rem; /* 11px */
  --fs-code-block: 0.6875rem;  /* 11px */

  /* UI elements */
  --fs-caption: 0.6875rem;     /* 11px */
  --fs-tooltip: 0.625rem;      /* 10px */
  --fs-button: 0.75rem;        /* 12px */

  /* Tables */
  --fs-table-header: 0.75rem;  /* 12px */
  --fs-table-cell: 0.75rem;    /* 12px */

  /* Spacing */
  --spacing-paragraph: 0.5rem;
  --spacing-heading: 0.75rem;
  --spacing-block: 1rem;

  /* Line heights */
  --lh-body: 1.5;
  --lh-heading: 1.2;
  --lh-code: 1.4;
}

/* Small - Compact but readable */
.font-size-sm {
  /* Headings */
  --fs-h1: 1.75rem;    /* 28px */
  --fs-h2: 1.5rem;     /* 24px */
  --fs-h3: 1.25rem;    /* 20px */
  --fs-h4: 1.125rem;   /* 18px */
  --fs-h5: 1rem;       /* 16px */
  --fs-h6: 0.875rem;   /* 14px */

  /* Body text */
  --fs-body: 0.875rem; /* 14px */
  --fs-lead: 1rem;     /* 16px */

  /* List items */
  --fs-list: 0.875rem; /* 14px */
  --fs-list-indent: 1.5rem;

  /* Quotes and special blocks */
  --fs-blockquote: 0.9375rem; /* 15px */
  --fs-callout: 0.875rem;     /* 14px */
  --fs-toggle: 0.875rem;      /* 14px */

  /* Code */
  --fs-code-inline: 0.8125rem; /* 13px */
  --fs-code-block: 0.8125rem;  /* 13px */

  /* UI elements */
  --fs-caption: 0.8125rem;     /* 13px */
  --fs-tooltip: 0.75rem;       /* 12px */
  --fs-button: 0.875rem;       /* 14px */

  /* Tables */
  --fs-table-header: 0.875rem; /* 14px */
  --fs-table-cell: 0.875rem;   /* 14px */

  /* Spacing */
  --spacing-paragraph: 0.625rem;
  --spacing-heading: 0.875rem;
  --spacing-block: 1.125rem;

  /* Line heights */
  --lh-body: 1.55;
  --lh-heading: 1.25;
  --lh-code: 1.45;
}

/* Medium - Balanced default */
.font-size-md {
  /* Headings */
  --fs-h1: 2rem;       /* 32px */
  --fs-h2: 1.75rem;    /* 28px */
  --fs-h3: 1.5rem;     /* 24px */
  --fs-h4: 1.25rem;    /* 20px */
  --fs-h5: 1.125rem;   /* 18px */
  --fs-h6: 1rem;       /* 16px */

  /* Body text */
  --fs-body: 1rem;     /* 16px */
  --fs-lead: 1.125rem; /* 18px */

  /* List items */
  --fs-list: 1rem;     /* 16px */
  --fs-list-indent: 1.75rem;

  /* Quotes and special blocks */
  --fs-blockquote: 1.0625rem; /* 17px */
  --fs-callout: 1rem;         /* 16px */
  --fs-toggle: 1rem;          /* 16px */

  /* Code */
  --fs-code-inline: 0.9375rem; /* 15px */
  --fs-code-block: 0.9375rem;  /* 15px */

  /* UI elements */
  --fs-caption: 0.875rem;      /* 14px */
  --fs-tooltip: 0.8125rem;     /* 13px */
  --fs-button: 1rem;           /* 16px */

  /* Tables */
  --fs-table-header: 1rem;     /* 16px */
  --fs-table-cell: 1rem;       /* 16px */

  /* Spacing */
  --spacing-paragraph: 0.75rem;
  --spacing-heading: 1rem;
  --spacing-block: 1.25rem;

  /* Line heights */
  --lh-body: 1.6;
  --lh-heading: 1.3;
  --lh-code: 1.5;
}

/* Large - Spacious editing */
.font-size-lg {
  /* Headings */
  --fs-h1: 2.25rem;    /* 36px */
  --fs-h2: 2rem;       /* 32px */
  --fs-h3: 1.75rem;    /* 28px */
  --fs-h4: 1.5rem;     /* 24px */
  --fs-h5: 1.25rem;    /* 20px */
  --fs-h6: 1.125rem;   /* 18px */

  /* Body text */
  --fs-body: 1.125rem; /* 18px */
  --fs-lead: 1.25rem;  /* 20px */

  /* List items */
  --fs-list: 1.125rem; /* 18px */
  --fs-list-indent: 2rem;

  /* Quotes and special blocks */
  --fs-blockquote: 1.1875rem; /* 19px */
  --fs-callout: 1.125rem;     /* 18px */
  --fs-toggle: 1.125rem;      /* 18px */

  /* Code */
  --fs-code-inline: 1.0625rem; /* 17px */
  --fs-code-block: 1.0625rem;  /* 17px */

  /* UI elements */
  --fs-caption: 1rem;          /* 16px */
  --fs-tooltip: 0.875rem;      /* 14px */
  --fs-button: 1.125rem;       /* 18px */

  /* Tables */
  --fs-table-header: 1.125rem; /* 18px */
  --fs-table-cell: 1.125rem;   /* 18px */

  /* Spacing */
  --spacing-paragraph: 0.875rem;
  --spacing-heading: 1.125rem;
  --spacing-block: 1.5rem;

  /* Line heights */
  --lh-body: 1.65;
  --lh-heading: 1.35;
  --lh-code: 1.55;
}

/* Zen - Maximum focus and readability */
.font-size-zen {
  /* Headings */
  --fs-h1: 2.75rem;    /* 44px */
  --fs-h2: 2.375rem;   /* 38px */
  --fs-h3: 2rem;       /* 32px */
  --fs-h4: 1.75rem;    /* 28px */
  --fs-h5: 1.5rem;     /* 24px */
  --fs-h6: 1.25rem;    /* 20px */

  /* Body text */
  --fs-body: 1.375rem; /* 22px */
  --fs-lead: 1.5rem;   /* 24px */
  

  /* List items */
  --fs-list: 1.375rem; /* 22px */
  --fs-list-indent: 2.5rem;

  /* Quotes and special blocks */
  --fs-blockquote: 1.4375rem; /* 23px */
  --fs-callout: 1.375rem;     /* 22px */
  --fs-toggle: 1.375rem;      /* 22px */

  /* Code */
  --fs-code-inline: 1.25rem;  /* 20px */
  --fs-code-block: 1.25rem;   /* 20px */

  /* UI elements */
  --fs-caption: 1.125rem;     /* 18px */
  --fs-tooltip: 1rem;         /* 16px */
  --fs-button: 1.375rem;      /* 22px */

  /* Tables */
  --fs-table-header: 1.375rem; /* 22px */
  --fs-table-cell: 1.375rem;   /* 22px */

  /* Spacing */
  --spacing-paragraph: 1rem;
  --spacing-heading: 1.5rem;
  --spacing-block: 2rem;

  /* Line heights */
  --lh-body: 1.7;
  --lh-heading: 1.4;
  --lh-code: 1.6;
}

/* Apply font sizes to elements within editor containers */
[class*='font-size-'] .tiptap-editor,
[class*='font-size-'] .ProseMirror,
[class*='font-size-'] .editor-content {
  /* Headings */
  h1 {
    font-size: var(--fs-h1) !important;
    line-height: var(--lh-heading);
    margin-top: var(--spacing-heading);
    margin-bottom: var(--spacing-heading);
  }

  h2 {
    font-size: var(--fs-h2) !important;
    line-height: var(--lh-heading);
    margin-top: var(--spacing-heading);
    margin-bottom: var(--spacing-heading);
  }

  h3 {
    font-size: var(--fs-h3) !important;
    line-height: var(--lh-heading);
    margin-top: var(--spacing-heading);
    margin-bottom: var(--spacing-heading);
  }

  h4 {
    font-size: var(--fs-h4) !important;
    line-height: var(--lh-heading);
    margin-top: var(--spacing-heading);
    margin-bottom: var(--spacing-heading);
  }

  h5 {
    font-size: var(--fs-h5) !important;
    line-height: var(--lh-heading);
    margin-top: var(--spacing-heading);
    margin-bottom: var(--spacing-heading);
  }

  h6 {
    font-size: var(--fs-h6) !important;
    line-height: var(--lh-heading);
    margin-top: var(--spacing-heading);
    margin-bottom: var(--spacing-heading);
  }

  /* Body text */
  p {
    font-size: var(--fs-body) !important;
    line-height: var(--lh-body);
    margin-bottom: var(--spacing-paragraph);
  }

  /* Lead paragraphs */
  .lead {
    font-size: var(--fs-lead) !important;
  }

  /* Lists */
  ul, ol {
    font-size: var(--fs-list) !important;
    line-height: var(--lh-body);
    padding-left: var(--fs-list-indent);
    margin-bottom: var(--spacing-block);
  }

  li {
    font-size: var(--fs-list) !important;
    margin-bottom: calc(var(--spacing-paragraph) * 0.5);
  }

  /* Blockquotes */
  blockquote {
    font-size: var(--fs-blockquote) !important;
    line-height: var(--lh-body);
    margin-bottom: var(--spacing-block);
    padding-left: var(--fs-list-indent);
  }

  /* Code */
  code:not(pre code) {
    font-size: var(--fs-code-inline) !important;
  }

  pre, .code-block {
    font-size: var(--fs-code-block) !important;
    line-height: var(--lh-code);
    margin-bottom: var(--spacing-block);
  }

  /* Callouts */
  [data-callout], .callout {
    font-size: var(--fs-callout) !important;
    line-height: var(--lh-body);
    margin-bottom: var(--spacing-block);
  }

  /* Toggle blocks */
  [data-toggle], .toggle {
    font-size: var(--fs-toggle) !important;
    line-height: var(--lh-body);
    margin-bottom: var(--spacing-block);
  }

  /* Tables */
  table {
    margin-bottom: var(--spacing-block);
  }

  th {
    font-size: var(--fs-table-header) !important;
    font-weight: 600;
  }

  td {
    font-size: var(--fs-table-cell) !important;
  }

  /* Captions */
  figcaption, .caption {
    font-size: var(--fs-caption) !important;
    margin-top: calc(var(--spacing-paragraph) * 0.5);
  }

  /* Buttons and UI */
  button:not(.no-font-size), .button {
    font-size: var(--fs-button);
  }

  /* Tooltips */
  [role="tooltip"] {
    font-size: var(--fs-tooltip);
  }


  /* Emoji */
  [data-emoji] {
    font-size: var(--fs-body) !important;
  }
}


/* Zen font size should only affect font sizes, not layout or colors */

/* Responsive adjustments */
@media (max-width: 640px) {
  /* Scale down all font sizes by 10% on mobile */
  [class*='font-size-'] {
    --fs-h1: calc(1.5rem * 0.9);
    --fs-h2: calc(1.25rem * 0.9);
    --fs-h3: calc(1.125rem * 0.9);
    --fs-h4: calc(1rem * 0.9);
    --fs-h5: calc(0.875rem * 0.9);
    --fs-h6: calc(0.8125rem * 0.9);
    --fs-body: calc(0.75rem * 0.9);
    --fs-lead: calc(0.875rem * 0.9);
    --fs-list: calc(0.75rem * 0.9);
    --fs-blockquote: calc(0.8125rem * 0.9);
    --fs-callout: calc(0.75rem * 0.9);
    --fs-toggle: calc(0.75rem * 0.9);
    --fs-code-inline: calc(0.6875rem * 0.9);
    --fs-code-block: calc(0.6875rem * 0.9);
    --fs-caption: calc(0.6875rem * 0.9);
    --fs-table-header: calc(0.75rem * 0.9);
    --fs-table-cell: calc(0.75rem * 0.9);
  }
}

/* Print styles */
@media print {
  /* Force medium size for printing */
  [class*='font-size-'] {
    font-size: 1rem !important;
  }
}

/* Override default heading styles from heading-node.tsx */
.font-size-xs h1.text-4xl,
.font-size-sm h1.text-4xl,
.font-size-md h1.text-4xl,
.font-size-lg h1.text-4xl,
.font-size-zen h1.text-4xl {
  font-size: var(--fs-h1) !important;
}

.font-size-xs h2.text-2xl,
.font-size-sm h2.text-2xl,
.font-size-md h2.text-2xl,
.font-size-lg h2.text-2xl,
.font-size-zen h2.text-2xl {
  font-size: var(--fs-h2) !important;
}

.font-size-xs h3.text-xl,
.font-size-sm h3.text-xl,
.font-size-md h3.text-xl,
.font-size-lg h3.text-xl,
.font-size-zen h3.text-xl {
  font-size: var(--fs-h3) !important;
}

.font-size-xs h4.text-lg,
.font-size-sm h4.text-lg,
.font-size-md h4.text-lg,
.font-size-lg h4.text-lg,
.font-size-zen h4.text-lg {
  font-size: var(--fs-h4) !important;
}

.font-size-xs h5.text-lg,
.font-size-sm h5.text-lg,
.font-size-md h5.text-lg,
.font-size-lg h5.text-lg,
.font-size-zen h5.text-lg {
  font-size: var(--fs-h5) !important;
}

.font-size-xs h6.text-base,
.font-size-sm h6.text-base,
.font-size-md h6.text-base,
.font-size-lg h6.text-base,
.font-size-zen h6.text-base {
  font-size: var(--fs-h6) !important;
}
